(this["webpackJsonp@uniswap/interface"]=this["webpackJsonp@uniswap/interface"]||[]).push([[1],{1901:function(e,t,n){"use strict";n.r(t),n.d(t,"BAG_WIDTH",(function(){return Et})),n.d(t,"XXXL_BAG_WIDTH",(function(){return Ct}));var r=n(8),c=n(3),i=n(2),o=n(7),a=n(38),s=n(24),u=n(253),l=n(35),d=n(141),b=n(18),p=n(206),j=n(23),f=n(170),g=n(79),x=n(17),O=n(405),m=n(181),h=n(102),v=n(9),I=n(73),w=n(427),y=n(252),A=n(365),k=n(213),T=n(582),N=n(1910),E=n(6),C=n(1025),S=n(1023),_=n(1);var P=n(4),z=n.n(P),B=n(16),R=n(29),L=n(45),D=n(179),F=n(21),U=n(996),M=n(823);function G(e){return e.filter((function(e){return e.status!==L.c.UNAVAILABLE})).map((function(e){return e.asset}))}function H(e,t,n){var r=Object(U.a)(e,t),c=r.hasPriceAdjustment,i=r.updatedAssets,o=c&&n,a=Object(M.a)(i),s=a.unchanged,u=a.priceChanged,l=a.unavailable,d=i.length>0,b=u.length>0,p=l.length>0,j=b||p,f=function(e,t,n){return[].concat(Object(F.a)(e.map((function(e){return{asset:e,status:L.c.UNAVAILABLE}}))),Object(F.a)(t.map((function(e){return{asset:e,status:L.c.REVIEWING_PRICE_CHANGE}}))),Object(F.a)(n.map((function(e){return{asset:e,status:L.c.REVIEWED}}))))}(l,u,s),g=function(e,t,n,r){return e?t?n?L.d.IN_REVIEW:L.d.CONFIRM_REVIEW:r?L.d.CONFIRM_QUOTE:L.d.CONFIRMING_IN_WALLET:L.d.ADDING_TO_BAG}(d,j,b,o);return{newBagItems:f,nextBagStatus:g}}function W(e){return{action:L.i.Buy,marketplace:e.marketplace.toLowerCase(),amountIn:e.price.value,assetIn:{ETHPrice:e.price.value,baseAsset:e.price.currency,basePrice:e.price.value,baseDecimals:"18"},amountOut:e.amount.toString(),assetOut:{id:e.id,decimals:18,address:e.contractAddress,priceInfo:{ETHPrice:e.price.value,baseAsset:e.price.currency,basePrice:e.price.value,baseDecimals:"18"},tokenType:e.tokenType,tokenId:e.tokenId,amount:e.amount.toString(),marketplace:e.marketplace.toLowerCase(),orderSource:"api"}}}function V(e,t){var n=e.route?e.route.map(W):[];return{route:n,routeResponse:{route:n,valueToSend:t?void 0:e.sendAmount.value,data:e.calldata,to:e.toAddress}}}var q=n(581),Y=n.n(q),X=n(816),$=n(824);var Q=n(133),K=n(134),J=Object(Q.create)()(Object(K.devtools)((function(e){return{inputCurrency:void 0,tokenTradeInput:void 0,setInputCurrency:function(t){return e((function(){return{inputCurrency:t}}))},clearInputCurrency:function(){return e((function(){return{inputCurrency:void 0}}))},setTokenTradeInput:function(t){return e((function(){return{tokenTradeInput:t}}))}}}),{name:"useTokenInput"}));function Z(){var e=Object(b.useWeb3React)().account,t=Object(T.a)((function(e){return{itemsInBag:e.itemsInBag,setBagStatus:e.setBagStatus,didOpenUnavailableAssets:e.didOpenUnavailableAssets,setDidOpenUnavailableAssets:e.setDidOpenUnavailableAssets,isLocked:e.isLocked,setLocked:e.setLocked,setItemsInBag:e.setItemsInBag}}),q.shallow),n=t.itemsInBag,c=t.setBagStatus,i=t.didOpenUnavailableAssets,o=t.setDidOpenUnavailableAssets,a=t.isLocked,s=t.setLocked,u=t.setItemsInBag,l=J((function(e){return e.tokenTradeInput})),d=Object(_.useMemo)((function(){return Object(D.F)(n)}),[n]),p=Object(R.s)(),j=Object(r.a)(p,1)[0],f=function(){var e=Object(b.useWeb3React)().provider,t=Object(X.a)((function(e){return e.sendTransaction})),n=Object($.a)((function(e){return e.setTransactionResponse})),r=Object(T.a)((function(e){return{setLocked:e.setLocked,setBagExpanded:e.setBagExpanded,reset:e.reset}}),Y.a),c=r.setLocked,i=r.setBagExpanded,o=r.reset;return Object(_.useCallback)(function(){var r=Object(B.a)(z.a.mark((function r(a,s){var u,l,d=arguments;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u=d.length>2&&void 0!==d[2]&&d[2],e){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,t(e.getSigner(),s,a,u);case 5:(l=r.sent)&&(c(!1),n(l),i({bagExpanded:!1}),o());case 7:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),[e,o,t,i,c,n])}(),g=Object(_.useCallback)((function(){i&&o(!1),!a&&s(!0),c(L.d.FETCHING_ROUTE)}),[a,i,s,c,o]);return Object(_.useCallback)(Object(B.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g(),j({variables:{senderAddress:e||"",nftTrades:Object(D.b)(d),tokenTrades:l||void 0},onCompleted:function(e){if(!e.nftRoute||!e.nftRoute.route)return c(L.d.ADDING_TO_BAG),void s(!1);var t=G(d),n=!!l,r=V(e.nftRoute,n),i=r.route,o=r.routeResponse,a=H(t,i,n),b=a.newBagItems,p=a.nextBagStatus;if(u(b),c(p),p===L.d.CONFIRMING_IN_WALLET)return f(o,t,n),void s(!0);s(!1)}});case 2:case"end":return t.stop()}}),t)}))),[e,j,d,f,g,s,c,u,l])}var ee=n(41),te=n(49);function ne(e){return Object(c.a)(Object(c.a)({},{inputAmount:{amount:(n={inputAmount:e.inputAmount,outputAmount:e.outputAmount}).inputAmount.quotient.toString(),token:{address:n.inputAmount.currency.isToken?n.inputAmount.currency.address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",chainId:n.inputAmount.currency.chainId,decimals:n.inputAmount.currency.decimals,isNative:n.inputAmount.currency.isNative}},outputAmount:{amount:n.outputAmount.quotient.toString(),token:{address:n.outputAmount.currency.isToken?n.outputAmount.currency.address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",chainId:n.outputAmount.currency.chainId,decimals:n.outputAmount.currency.decimals,isNative:n.outputAmount.currency.isNative}}}),{},{pools:(t=e.route.pools,t.map((function(e){return function(e){var t="fee"in e;return{pair:t?void 0:{tokenAmountA:{amount:e.reserve0.quotient.toString(),token:{address:e.token0.address,chainId:e.token0.chainId,decimals:e.token0.decimals,isNative:e.token0.isNative}},tokenAmountB:{amount:e.reserve1.quotient.toString(),token:{address:e.token1.address,chainId:e.token1.chainId,decimals:e.token1.decimals,isNative:e.token1.isNative}}},pool:t?{fee:e.fee,liquidity:e.liquidity.toString(),sqrtRatioX96:e.sqrtRatioX96.toString(),tickCurrent:e.tickCurrent.toString(),tokenA:{address:e.token0.address,chainId:e.token0.chainId,decimals:e.token0.decimals,isNative:e.token0.isNative},tokenB:{address:e.token1.address,chainId:e.token1.chainId,decimals:e.token1.decimals,isNative:e.token1.isNative}}:void 0}}(e)})))});var t,n}function re(e,t,n){var r=J((function(e){return e.setTokenTradeInput})),c=!!e&&e.routes,i=!!e&&!!e.inputAmount&&e.inputAmount.currency.isToken,o=!!n&&!!t;Object(_.useEffect)((function(){if(c&&i&&o){var a=parseInt(n.multiply(100).toSignificant(2)),s=function(e){var t,n=[],r=[],c=[],i=e.swaps,o=Object(ee.a)(i);try{for(o.s();!(t=o.n()).done;){var a=t.value;a.route.protocol===te.Protocol.MIXED?n.push(ne(a)):a.route.protocol===te.Protocol.V2?r.push(ne(a)):c.push(ne(a))}}catch(s){o.e(s)}finally{o.f()}return{mixedTokenTradeRouteInputs:n.length>0?n:void 0,v2TokenTradeRouteInputs:r.length>0?r:void 0,v3TokenTradeRouteInputs:c.length>0?c:void 0}}(e),u=s.mixedTokenTradeRouteInputs,l=s.v2TokenTradeRouteInputs,d=s.v3TokenTradeRouteInputs,b={mixedRoutes:u,tradeType:R.k.ExactOutput,v2Routes:l,v3Routes:d},p="permitSignature"in t&&t.permitSignature?{details:{amount:t.permitSignature.details.amount.toString(),expiration:t.permitSignature.details.expiration.toString(),nonce:t.permitSignature.details.nonce.toString(),token:t.permitSignature.details.token},sigDeadline:t.permitSignature.sigDeadline.toString(),signature:t.permitSignature.signature,spender:t.permitSignature.spender}:void 0;r({permit:p,routes:b,slippageToleranceBasisPoints:a,tokenAmount:{amount:e.inputAmount.quotient.toString(),token:{address:e.inputAmount.currency.address,chainId:e.inputAmount.currency.chainId,decimals:e.inputAmount.currency.decimals,isNative:e.inputAmount.currency.isNative}}})}else r(void 0)}),[t,n,o,i,c,r,e])}var ce=n(183),ie=n(40);var oe=n(215);function ae(e){var t=Object(i.useTheme)();return Object(_.useMemo)((function(){var n=e?Object(oe.a)(e):void 0,r=n?Object(oe.b)(n):void 0,c="error"===r?t.accentCritical:"warning"===r?t.accentWarning:void 0;return n&&r&&c?{priceImpactSeverity:{type:r,color:c},displayPercentage:function(){return function(e){var t,n=e.lessThan(0)?"+":"";if(Number(e.numerator)/Number(e.denominator)*100<.005)return"0.00%";var r=parseFloat(null===(t=e.multiply(-1))||void 0===t?void 0:t.toFixed(2));return"".concat(n).concat(r,"%")}(n)}}:void 0}),[t.accentCritical,t.accentWarning,e])}var se,ue=n(825),le=n(806),de=n(1087),be=n(163),pe=n(11),je=n(490),fe=n(0),ge=i.default.div.withConfig({componentId:"sc-rcepl8-0"})(["padding:0px 12px;"]),xe=i.default.div.withConfig({componentId:"sc-rcepl8-1"})(["border-top:1px solid ",";color:",";display:flex;flex-direction:column;margin:0px 16px 8px;padding:12px 0px;border-bottom-left-radius:12px;border-bottom-right-radius:12px;"],(function(e){return e.theme.backgroundOutline}),(function(e){return e.theme.textPrimary})),Oe=Object(i.default)(j.d).withConfig({componentId:"sc-rcepl8-2"})(["padding-top:8px;padding-bottom:16px;"]),me=Object(i.default)(x.e).withConfig({componentId:"sc-rcepl8-3"})(["justify-content:space-between;align-items:start;gap:8px;"]),he=Object(i.default)(j.d).withConfig({componentId:"sc-rcepl8-4"})(["text-align:end;overflow-x:hidden;"]),ve=Object(i.default)(le.a).withConfig({componentId:"sc-rcepl8-5"})(["width:14px;margin-right:4px;color:inherit;"]),Ie=Object(i.default)(pe.x.BodyPrimary).withConfig({componentId:"sc-rcepl8-6"})(["align-items:center;color:",";display:flex;justify-content:center;margin-bottom:10px !important;text-align:center;"],(function(e){return e.$color})),we=Object(i.default)(pe.x.Caption).withConfig({componentId:"sc-rcepl8-7"})(["color:",";display:flex;justify-content:center;text-align:center;margin-bottom:10px !important;"],(function(e){return e.$color})),ye=Object(i.default)(x.e).withConfig({componentId:"sc-rcepl8-8"})(["gap:8px;cursor:pointer;"]),Ae=i.default.button.withConfig({componentId:"sc-rcepl8-9"})(["display:flex;background:",";color:",";font-weight:600;line-height:24px;font-size:16px;gap:16px;justify-content:center;border:none;border-radius:12px;padding:12px 0px;cursor:pointer;align-items:center;&:disabled{opacity:0.6;cursor:auto;}"],(function(e){return e.$backgroundColor}),(function(e){return e.$color})),ke=Object(i.default)(m.a).withConfig({componentId:"sc-rcepl8-10"})(["border-radius:4px;width:4rem;height:20px;align-self:end;"]),Te=Object(i.default)(x.e).withConfig({componentId:"sc-rcepl8-11"})(["align-items:center;gap:8px;width:100%;justify-content:flex-end;"]),Ne=Object(i.default)(x.e).withConfig({componentId:"sc-rcepl8-12"})(["align-items:center;gap:8px;"]),Ee=Object(i.default)(pe.x.BodyPrimary).withConfig({componentId:"sc-rcepl8-13"})(["line-height:20px;font-weight:500;overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;scrollbar-width:none;::-webkit-scrollbar{display:none;}"]),Ce=function(e){var t=e.disabled,n=e.children,r=e.onClick,c=e.backgroundColor,i=e.textColor;return Object(fe.jsx)(Ae,{disabled:t,onClick:r,$backgroundColor:c,$color:i,children:n})},Se=function(e){var t=e.color,n=e.children;return n?Object(fe.jsxs)(Ie,{fontSize:"14px",lineHeight:"20px",$color:t,children:[Object(fe.jsx)(ve,{}),n]}):null},_e=function(e){var t=e.children,n=e.color;return t?Object(fe.jsx)(we,{lineHeight:"16px",$color:n,children:t}):null},Pe=function(e){var t,n=e.usingPayWithAnyToken,r=e.totalEthPrice,c=e.activeCurrency,i=e.tradeState,a=e.trade;return n?i===be.b.LOADING?Object(fe.jsx)(pe.x.BodyPrimary,{color:"textTertiary",lineHeight:"20px",fontWeight:"500",children:Object(fe.jsx)(o.b,{id:"Fetching price..."})}):Object(fe.jsx)(Ee,{color:i===be.b.SYNCING?"textTertiary":"textPrimary",children:Object(D.h)(null===a||void 0===a?void 0:a.inputAmount.toExact())}):Object(fe.jsxs)(pe.x.BodyPrimary,{lineHeight:"20px",fontWeight:"500",children:[Object(D.p)(r.toString()),"\xa0",null!==(t=null===c||void 0===c?void 0:c.symbol)&&void 0!==t?t:"ETH"]})},ze=function(e){var t=e.usdcValue,n=e.priceImpact,r=e.tradeState,c=e.usingPayWithAnyToken;return t?Object(fe.jsxs)(Te,{children:[n&&Object(fe.jsx)(fe.Fragment,{children:Object(fe.jsx)(h.a,{text:l.a._("The estimated difference between the USD values of input and output amounts."),children:Object(fe.jsxs)(Ne,{children:[Object(fe.jsx)(le.a,{color:n.priceImpactSeverity.color,size:"16px"}),Object(fe.jsxs)(pe.x.BodySmall,{style:{color:n.priceImpactSeverity.color},lineHeight:"20px",children:["(",Object(fe.jsx)(o.b,{id:"{0}",values:{0:n.displayPercentage()}}),")"]})]})})}),Object(fe.jsx)(pe.x.BodySmall,{color:"textTertiary",lineHeight:"20px",children:"".concat(Object(D.h)(null===t||void 0===t?void 0:t.toExact(),!0))})]}):!c||r!==be.b.INVALID&&r!==be.b.NO_ROUTE_FOUND?Object(fe.jsx)(ke,{}):null},Be=[L.d.FETCHING_ROUTE,L.d.CONFIRMING_IN_WALLET,L.d.FETCHING_FINAL_ROUTE,L.d.PROCESSING_TRANSACTION],Re=function(e){var t=e.setModalIsOpen,n=e.eventProperties,u=Object(p.d)(),l=Object(i.useTheme)(),x=Object(b.useWeb3React)(),m=x.account,h=x.chainId,P=x.connector,R=Boolean(m&&h),D=Object(N.a)(),F=J((function(e){return e.inputCurrency})),U=J((function(e){return e.setInputCurrency})),M=Object(I.b)("ETH"),G=Object(A.d)(null!==m&&void 0!==m?m:void 0,F&&F.isToken?F:void 0),H=Object(T.a)((function(e){return{isLocked:e.isLocked,bagStatus:e.bagStatus,setBagExpanded:e.setBagExpanded,setBagStatus:e.setBagStatus}}),q.shallow),W=H.isLocked,V=H.bagStatus,Y=H.setBagExpanded,$=H.setBagStatus,Q=Object(_.useState)(!1),K=Object(r.a)(Q,2),ee=K[0],te=K[1],ne=Be.includes(V),oe=null!==F&&void 0!==F?F:M,se=!!F&&h===v.e.MAINNET;!function(e){var t=Object(X.a)((function(e){return e.state})),n=Object(X.a)((function(e){return e.setState})),r=Object(_.useRef)(t),c=Object(T.a)((function(e){return{setBagExpanded:e.setBagExpanded,setBagStatus:e.setBagStatus,setLocked:e.setLocked}}),q.shallow),i=c.setBagStatus,o=c.setLocked;Object(_.useEffect)((function(){X.a.subscribe((function(e){return r.current=e.state}))}),[]),Object(_.useEffect)((function(){r.current===L.l.Confirming&&i(L.d.PROCESSING_TRANSACTION),r.current!==L.l.Denied&&r.current!==L.l.Invalid||(r.current===L.l.Invalid?i(L.d.WARNING):i(L.d.CONFIRM_REVIEW),n(L.l.New),o(!1),e(!1))}),[o,i,e,n,r.current])}(t);var le=Z(),ve=Object(_.useMemo)((function(){return Object(k.a)(Object(d.formatEther)(D.toString()),null!==M&&void 0!==M?M:void 0)}),[M,D]),Ie=function(e,t){var n=Object(S.a)(E.TradeType.EXACT_OUTPUT,t,null!==e&&void 0!==e?e:void 0),r=n.state,c=n.trade,i=Object(C.a)(c),o=Object(_.useMemo)((function(){var e=null===c||void 0===c?void 0:c.maximumAmountIn(i);return(null===e||void 0===e?void 0:e.currency.isToken)?e:void 0}),[i,c]);return Object(_.useMemo)((function(){return{state:r,trade:c,maximumAmountIn:o,allowedSlippage:i}}),[i,o,r,c])}(se?F:void 0,ve),we=Ie.state,Ae=Ie.trade,ke=Ie.maximumAmountIn,Te=Ie.allowedSlippage,Ne=function(e,t,n){var c,i=Object(b.useWeb3React)().chainId;i&&(c=n&&1===i?"0x4c60051384bd2d3c01bfc845cf5f4b44bcbe9de5":Object(ce.UNIVERSAL_ROUTER_ADDRESS)(i));var o=Object(w.b)(null!==t&&void 0!==t?t:(null===e||void 0===e?void 0:e.currency.isToken)?e:void 0,c),u=o.state===w.a.REQUIRED&&o.isApprovalLoading,l=Object(_.useState)(!1),d=Object(r.a)(l,2),p=d[0],j=d[1],f=Object(_.useCallback)(Object(B.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(ie.default)(o.state===w.a.REQUIRED),j(!0),e.prev=2,e.next=5,o.approveAndPermit();case 5:Object(a.sendAnalyticsEvent)(s.InterfaceEventName.APPROVE_TOKEN_TXN_SUBMITTED,{chain_id:i,token_symbol:null===t||void 0===t?void 0:t.currency.symbol,token_address:null===t||void 0===t?void 0:t.currency.address}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:return e.prev=11,j(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])}))),[o,i,null===t||void 0===t?void 0:t.currency.address,null===t||void 0===t?void 0:t.currency.symbol]);return Object(_.useMemo)((function(){return{allowance:o,isApprovalLoading:u,isAllowancePending:p,updateAllowance:f}}),[o,p,u,f])}((null===Ae||void 0===Ae?void 0:Ae.inputAmount.currency.isToken)?null===Ae||void 0===Ae?void 0:Ae.inputAmount:void 0,ke,!0),Ee=Ne.allowance,Re=Ne.isAllowancePending,Le=Ne.isApprovalLoading,De=Ne.updateAllowance;re(Ae,Ee,Te);var Fe=ae(Ae),Ue=Object(y.c)(null===Ae||void 0===Ae?void 0:Ae.inputAmount),Me=Object(y.c)(ve),Ge=se?Ue:Me,He=Object(ue.a)().balance,We=Object(_.useMemo)((function(){if(R&&h===v.e.MAINNET){if(F){var e=null===Ae||void 0===Ae?void 0:Ae.inputAmount;if(!G||!e)return;return!G.lessThan(e)}return Object(d.parseEther)(He).gte(D)}}),[R,h,F,He,D,null===Ae||void 0===Ae?void 0:Ae.inputAmount,G]);Object(_.useEffect)((function(){$(L.d.ADDING_TO_BAG)}),[F,$]);var Ve=Object(_.useMemo)((function(){var e=le,t=Object(fe.jsx)(o.b,{id:"Something went wrong"}),n=!0,r=void 0,c=l.accentWarning,i=void 0,a=l.textSecondary,s=l.accentAction,d=l.accentTextLightPrimary;return R&&h!==v.e.MAINNET?(e=function(){return Object(je.a)(P,v.e.MAINNET)},t=Object(fe.jsx)(o.b,{id:"Switch networks"}),n=!1,r=Object(fe.jsx)(o.b,{id:"Wrong network"})):!1===We?(t=Object(fe.jsx)(o.b,{id:"Pay"}),n=!0,r=Object(fe.jsx)(o.b,{id:"Insufficient funds"})):V===L.d.WARNING?r=Object(fe.jsx)(o.b,{id:"Something went wrong. Please try again."}):R?V===L.d.FETCHING_FINAL_ROUTE||V===L.d.CONFIRMING_IN_WALLET?(n=!0,t=Object(fe.jsx)(o.b,{id:"Proceed in wallet"})):V===L.d.PROCESSING_TRANSACTION?(n=!0,t=Object(fe.jsx)(o.b,{id:"Transaction pending"})):se&&we!==be.b.VALID?(n=!0,t=Object(fe.jsx)(o.b,{id:"Fetching Route"}),we===be.b.INVALID&&(t=Object(fe.jsx)(o.b,{id:"Pay"})),we===be.b.NO_ROUTE_FOUND&&(t=Object(fe.jsx)(o.b,{id:"Insufficient liquidity"}),s=l.backgroundInteractive,d=l.textPrimary,i=Object(fe.jsx)(o.b,{id:"Insufficient pool liquidity to complete transaction"}))):Ee.state===w.a.REQUIRED||Ee.state===w.a.LOADING?(e=function(){return De()},n=Re||Le||Ee.state===w.a.LOADING,Ee.state===w.a.LOADING?t=Object(fe.jsx)(o.b,{id:"Loading Allowance"}):Re?t=Object(fe.jsx)(o.b,{id:"Approve in your wallet"}):Le?t=Object(fe.jsx)(o.b,{id:"Approval pending"}):(i=Object(fe.jsx)(o.b,{id:"An approval is needed to use this token."}),t=Object(fe.jsx)(o.b,{id:"Approve"}))):V===L.d.CONFIRM_QUOTE?(n=!1,c=l.accentAction,r=Object(fe.jsx)(o.b,{id:"Price updated"}),t=Object(fe.jsx)(o.b,{id:"Pay"})):Fe&&"error"===Fe.priceImpactSeverity.type?(n=!1,s=Fe.priceImpactSeverity.color,i=Object(fe.jsx)(o.b,{id:"Price impact warning"}),a=Fe.priceImpactSeverity.color,t=Object(fe.jsx)(o.b,{id:"Pay Anyway"})):!0===We&&(n=!1,t=Object(fe.jsx)(o.b,{id:"Pay"}),i=se?Object(fe.jsx)(o.b,{id:"Refunds for unavailable items will be given in ETH"}):void 0):(e=function(){u(),Y({bagExpanded:!1})},n=!1,t=Object(fe.jsx)(o.b,{id:"Connect wallet"})),{buttonText:t,buttonTextColor:d,disabled:n,warningText:r,warningTextColor:c,helperText:i,helperTextColor:a,handleClick:e,buttonColor:s}}),[le,l.accentWarning,l.textSecondary,l.accentAction,l.accentTextLightPrimary,l.backgroundInteractive,l.textPrimary,R,h,We,V,se,we,Ee.state,Fe,P,u,Y,Re,Le,De]),qe=Ve.buttonText,Ye=Ve.buttonTextColor,Xe=Ve.disabled,$e=Ve.warningText,Qe=Ve.warningTextColor,Ke=Ve.helperText,Je=Ve.helperTextColor,Ze=Ve.handleClick,et=Ve.buttonColor,tt=Object(c.a)({usd_value:null===Ge||void 0===Ge?void 0:Ge.toExact(),using_erc20:!!F},n);return Object(fe.jsxs)(ge,{children:[Object(fe.jsxs)(xe,{children:[Object(fe.jsxs)(Oe,{gap:"xs",children:[Object(fe.jsxs)(me,{children:[Object(fe.jsxs)(j.d,{gap:"xs",children:[Object(fe.jsx)(pe.x.SubHeaderSmall,{children:Object(fe.jsx)(o.b,{id:"Pay with"})}),Object(fe.jsxs)(ye,{onClick:function(){W||(te(!0),Object(a.sendAnalyticsEvent)(s.NFTEventName.NFT_BUY_TOKEN_SELECTOR_CLICKED))},children:[Object(fe.jsx)(g.a,{currency:oe,size:"24px"}),Object(fe.jsx)(pe.x.HeadlineSmall,{fontWeight:500,lineHeight:"24px",children:null===oe||void 0===oe?void 0:oe.symbol}),Object(fe.jsx)(de.a,{size:20,color:l.textSecondary})]})]}),Object(fe.jsxs)(he,{gap:"xs",children:[Object(fe.jsx)(pe.x.SubHeaderSmall,{marginBottom:"4px",children:Object(fe.jsx)(o.b,{id:"Total"})}),Object(fe.jsx)(Pe,{usingPayWithAnyToken:se,totalEthPrice:D,activeCurrency:oe,tradeState:we,trade:Ae})]})]}),Object(fe.jsx)(ze,{usdcValue:Ge,priceImpact:Fe,tradeState:we,usingPayWithAnyToken:se})]}),Object(fe.jsxs)(a.TraceEvent,{events:[s.BrowserEvent.onClick],name:s.NFTEventName.NFT_BUY_BAG_PAY,element:s.InterfaceElementName.NFT_BUY_BAG_PAY_BUTTON,properties:Object(c.a)({},tt),shouldLogImpression:R&&!Xe,children:[Object(fe.jsx)(Se,{color:Qe,children:$e}),Object(fe.jsx)(_e,{color:Je,children:Ke}),Object(fe.jsxs)(Ce,{onClick:Ze,disabled:Xe||ne,backgroundColor:et,textColor:Ye,children:[ne&&Object(fe.jsx)(f.b,{size:"20px",stroke:"white"}),qe]})]})]}),Object(fe.jsx)(O.a,{isOpen:ee,onDismiss:function(){return te(!1)},onCurrencySelect:function(e){U(e.isNative?void 0:e),e.isToken&&Object(a.sendAnalyticsEvent)(s.NFTEventName.NFT_BUY_TOKEN_SELECTED,{token_address:e.address,token_symbol:e.symbol})},selectedCurrency:null!==oe&&void 0!==oe?oe:void 0,onlyShowCurrenciesWithBalance:!0})]})},Le=n(71),De=n(585),Fe=n(114),Ue=n(1884),Me=n(173),Ge=n(142),He=(n(312),n(2012),n(65)),We=n(280),Ve=n(42),qe=n(34),Ye=Object(i.keyframes)(se||(se=Object(qe.a)(["\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n"]))),Xe=i.default.circle.withConfig({componentId:"sc-5ix82i-0"})(["stroke-dasharray:1000;stroke-dashoffset:0;-webkit-animation:"," linear;animation:"," linear;animation-duration:160s;stroke:",";"],Ye,Ye,(function(e){return e.theme.accentAction})),$e=function(){return Object(fe.jsx)(Le.b,{display:"flex",position:"absolute",children:Object(fe.jsx)("svg",{height:"18px",width:"18px",children:Object(fe.jsx)(Xe,{strokeWidth:"".concat(1.5),strokeLinecap:"round",style:{transform:"rotate(90deg)",transformOrigin:"50% 50%"},fill:"transparent",r:"8px",cx:"9px",cy:"9px"})})})},Qe=n(828),Ke=n(90),Je=n(313),Ze=n(717),et=n(53),tt=(n(580),n(2013),"_1kuawc1 rgw6ez2qg rgw6ez2wv rgw6ez32w rgw6ez2jn rgw6ez52p rgw6ez4eq rgw6ez7y5 rgw6ez1lf rgw6ez7zp"),nt="rgw6ez1aj rgw6ez1ii rgw6ez4xl rgw6ez7zh",rt="_1kuawc7",ct="_1kuawcb rgw6ezcb rgw6ezeg rgw6ez8a9 rgw6ez4t4 rgw6ez4sx",it="rgw6eze9 rgw6ezc4 rgw6ezg0 rgw6ez8a9 rgw6ez4sx rgw6ez4t4 rgw6ez52v",ot="rgw6ez4js",at=Object(i.default)(Ve.r).withConfig({componentId:"sc-iebvtt-0"})(["border-radius:12px;font-size:14px;line-height:16px;margin-left:16px;padding:12px 14px;"]),st=Object(i.default)(Ve.r).withConfig({componentId:"sc-iebvtt-1"})(["border-radius:12px;flex:1 1 auto;font-size:14px;padding:8px;width:50%;"]),ut=i.default.div.withConfig({componentId:"sc-iebvtt-2"})(["position:absolute;display:block;right:-11px;top:-11px;z-index:1;transition:250ms;width:45px;height:45px;display:flex;align-items:center;justify-content:center;"]),lt=function(e){var t=e.onClick;return Object(fe.jsx)(ut,{onClick:t,children:Object(fe.jsx)(Ke.t,{})})},dt=function(){return Object(fe.jsx)(Le.b,{position:"relative",background:"loadingBackground",className:nt,children:Object(fe.jsxs)(Le.b,{position:"absolute",textAlign:"center",left:"1/2",top:"1/2",style:{transform:"translate3d(-50%, -50%, 0)"},color:"gray500",fontSize:"12",fontWeight:"normal",children:["Image",Object(fe.jsx)("br",{}),"not",Object(fe.jsx)("br",{}),"available"]})})},bt=function(e){var t,n=e.asset,c=e.usdPrice,i=e.removeAsset,o=e.showRemove,a=e.grayscale,s=e.isMobile,u=Object(_.useState)(!1),l=Object(r.a)(u,2),b=l[0],p=l[1],j=Object(_.useState)(!n.smallImageUrl),f=Object(r.a)(j,2),g=f[0],x=f[1],O=Object(_.useState)(!1),m=Object(r.a)(O,2),h=m[0],v=m[1],I=Object(_.useCallback)((function(){return v(!0)}),[]),w=Object(_.useCallback)((function(){return v(!1)}),[]),y=Boolean(o&&h&&!s),A=n.updatedPriceInfo?n.updatedPriceInfo.ETHPrice:n.priceInfo.ETHPrice,k=Object(D.p)(A),T=Object(D.h)(c?parseFloat(Object(d.formatEther)(A))*c:c,!0),N=Object(_.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),i([n])}),[n,i]);return Object(fe.jsx)(et.b,{to:Object(D.t)(n),style:{textDecoration:"none"},children:Object(fe.jsxs)(Fe.c,{className:tt,onMouseEnter:I,onMouseLeave:w,children:[Object(fe.jsxs)(Le.b,{position:"relative",display:"flex",children:[o&&s&&Object(fe.jsx)(lt,{onClick:N}),!g&&Object(fe.jsx)(Le.b,{as:"img",src:n.smallImageUrl,alt:n.name,className:Object(We.default)(nt,a&&!h&&rt),onLoad:function(){p(!0)},onError:function(){x(!0)},visibility:b?"visible":"hidden"}),!b&&Object(fe.jsx)(Le.b,{position:"absolute",className:"".concat(nt," ").concat(Ze.b)}),g&&Object(fe.jsx)(dt,{})]}),Object(fe.jsxs)(Fe.b,{overflow:"hidden",width:"full",color:a?"textSecondary":"textPrimary",children:[Object(fe.jsxs)(Fe.c,{overflow:"hidden",width:"full",whiteSpace:"nowrap",children:[Object(fe.jsx)(Le.b,{className:ct,children:null!==(t=n.name)&&void 0!==t?t:"#".concat(n.tokenId)}),n.susFlag&&Object(fe.jsx)(Qe.c,{})]}),Object(fe.jsxs)(Fe.c,{overflow:"hidden",whiteSpace:"nowrap",gap:"2",children:[Object(fe.jsx)(Le.b,{className:it,children:n.collectionName}),n.collectionIsVerified&&Object(fe.jsx)(Ke.ub,{className:ot})]})]}),y&&Object(fe.jsx)(at,{onClick:N,emphasis:Ve.e.medium,size:Ve.n.medium,children:"Remove"}),(!y||s)&&Object(fe.jsxs)(Fe.b,{flexShrink:"0",alignItems:"flex-end",children:[Object(fe.jsxs)(Le.b,{className:"_1kuawc9 rgw6ez4dy rgw6ezcb rgw6ezen rgw6ez4js",children:[k,"\xa0ETH"]}),Object(fe.jsx)(Le.b,{className:it,children:T})]})]})})},pt=function(e){var t,n=e.asset,r=e.usdPrice,c=e.markAssetAsReviewed,i=e.top,o=e.isMobile,a=He.a.from(null===(t=n.updatedPriceInfo)||void 0===t?void 0:t.ETHPrice).gt(He.a.from(n.priceInfo.ETHPrice)),s=Object(_.useCallback)((function(e){e.preventDefault(),e.stopPropagation();c(n,!1)}),[n,c]),u=Object(_.useCallback)((function(e){e.preventDefault(),e.stopPropagation();c(n,!0)}),[n,c]);return Object(fe.jsxs)(Fe.b,{className:"rgw6ez33o rgw6ez2kf rgw6ezok rgw6ezuz rgw6ez5gp rgw6ez4ec rgw6ez52p rgw6ez7yh rgw6ez87x rgw6ez5sd rgw6ez6cv rgw6ez1lf rgw6ez7y5",borderTopColor:i?"backgroundOutline":"transparent",children:[Object(fe.jsxs)(Fe.c,{className:"rgw6eze9 rgw6ezc4 rgw6ezg0 rgw6ez50j rgw6ez4dy",children:[a?Object(fe.jsx)(Ke.Y,{}):Object(fe.jsx)(Ke.X,{}),Object(fe.jsx)(Le.b,{children:"Price ".concat(a?"increased":"decreased"," from ").concat(Object(D.p)(n.priceInfo.ETHPrice)," ETH")})]}),Object(fe.jsx)(Le.b,{style:{marginLeft:"-8px",marginRight:"-8px"},children:Object(fe.jsx)(bt,{asset:n,usdPrice:r,removeAsset:function(){},isMobile:o})}),Object(fe.jsxs)(Fe.c,{gap:"8",justifyContent:"space-between",children:[Object(fe.jsx)(st,{onClick:s,emphasis:Ve.e.medium,size:Ve.n.small,children:"Remove"}),Object(fe.jsx)(st,{onClick:u,emphasis:Ve.e.high,size:Ve.n.small,children:"Keep"})]})]})},jt=function(e){var t=e.assets;return Object(fe.jsx)(Fe.b,{display:"grid",style:{gridTemplateColumns:"repeat(".concat(t.length,", 20px)"),width:"".concat(32+20*(t.length-1),"px")},children:t.map((function(e,t){return Object(fe.jsx)(Le.b,{as:"img",src:e.smallImageUrl,width:"32",height:"32",borderStyle:"solid",borderWidth:"1px",borderColor:"backgroundSurface",borderRadius:"4",style:{zIndex:t},className:rt},"".concat(e.address,"-").concat(e.tokenId))}))})},ft=function(e){var t=e.assets,n=e.usdPrice,c=e.clearUnavailableAssets,i=e.didOpenUnavailableAssets,o=e.setDidOpenUnavailableAssets,a=e.isMobile,s=Object(_.useReducer)((function(e){return!e}),!1),u=Object(r.a)(s,2),l=u[0],d=u[1],b=Object(_.useState)(8),p=Object(r.a)(b,2),j=p[0],f=p[1];if(Object(_.useEffect)((function(){if(j){var e=setInterval((function(){f(j-1)}),1e3);return function(){return clearInterval(e)}}i||(c(),o(!1))}),[j,c,i,o]),!t||0===t.length)return null;var g=t.length>1,x=l||!g;return Object(fe.jsx)(Fe.b,{className:"rgw6ez33o rgw6ez2kf rgw6ezok rgw6ezuz rgw6ez5gp rgw6ez4eq rgw6ez52p rgw6ez7yh rgw6ez87x rgw6ez5sd rgw6ez6op rgw6ez6cv rgw6ez1lf",children:Object(fe.jsxs)(Fe.b,{children:[Object(fe.jsxs)(Fe.c,{justifyContent:"space-between",marginBottom:x?"12":"0",cursor:g?"pointer":"default",onClick:function(){g&&(!i&&o(!0),d())},children:[Object(fe.jsxs)(Fe.c,{gap:"12",color:"textSecondary",className:Je.b,children:[!x&&Object(fe.jsx)(jt,{assets:t.slice(0,5)}),"No longer available"]}),g&&Object(fe.jsx)(Fe.c,{color:"textSecondary",children:l?Object(fe.jsx)(Ke.r,{}):Object(fe.jsx)(Ke.o,{})}),!i&&Object(fe.jsxs)(Fe.c,{position:"relative",width:"20",height:"20",color:"textPrimary",justifyContent:"center",cursor:"pointer",onClick:c,children:[Object(fe.jsx)($e,{}),Object(fe.jsx)(Ke.v,{})]})]}),Object(fe.jsx)(Fe.b,{gap:"8",style:{marginLeft:"-8px",marginRight:"-8px"},children:x&&t.map((function(e){return Object(fe.jsx)(bt,{asset:e,usdPrice:n,removeAsset:function(){},grayscale:!0,isMobile:a},e.id)}))})]})})},gt=n(531),xt=function(){var e=Object(Me.e)((function(e){return e.bagStatus})),t=Object(Me.e)((function(e){return e.setBagStatus})),n=Object(Me.e)((function(e){return e.markAssetAsReviewed})),r=Object(Me.e)((function(e){return e.didOpenUnavailableAssets})),i=Object(Me.e)((function(e){return e.setDidOpenUnavailableAssets})),o=Object(Me.e)((function(e){return e.itemsInBag})),u=Object(Me.e)((function(e){return e.setItemsInBag})),l=Object(Me.e)((function(e){return e.removeAssetsFromBag})),d=Object(Me.i)(),b=Object(_.useMemo)((function(){return Object(D.F)(o)}),[o]),p=Object(gt.useQuery)(["fetchPrice",{}],(function(){return Object(D.i)()}),{}).data,j=Object(_.useMemo)((function(){return{unchangedAssets:b.filter((function(e){return e.status===L.c.ADDED_TO_BAG||e.status===L.c.REVIEWED})).map((function(e){return e.asset})),priceChangedAssets:b.filter((function(e){return e.status===L.c.REVIEWING_PRICE_CHANGE})).map((function(e){return e.asset})),unavailableAssets:b.filter((function(e){return e.status===L.c.UNAVAILABLE})).map((function(e){return e.asset})),availableItems:b.filter((function(e){return e.status!==L.c.UNAVAILABLE}))}}),[b]),f=j.unchangedAssets,g=j.priceChangedAssets,x=j.unavailableAssets,O=j.availableItems;return Object(_.useEffect)((function(){var n=g.length>0,r=b.length>0;n&&Object(a.sendAnalyticsEvent)(s.NFTEventName.NFT_BUY_BAG_CHANGED,Object(c.a)({usd_value:p,bag_quantity:b},Object(D.k)(g))),e!==L.d.IN_REVIEW||n||t(r?L.d.CONFIRM_REVIEW:L.d.ADDING_TO_BAG),e!==L.d.CONFIRM_REVIEW||r||t(L.d.ADDING_TO_BAG)}),[e,b,g,t,p]),Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsxs)(Fe.b,{display:g.length>0||x.length>0?"flex":"none",children:[x.length>0&&Object(fe.jsx)(a.Trace,{name:s.NFTEventName.NFT_BUY_BAG_CHANGED,properties:Object(c.a)({usd_value:p,bag_quantity:b.length},Object(D.k)(x)),shouldLogImpression:!0,children:Object(fe.jsx)(ft,{assets:x,usdPrice:p,clearUnavailableAssets:function(){return u(O)},didOpenUnavailableAssets:r,setDidOpenUnavailableAssets:i,isMobile:d})}),g.map((function(e,t){return Object(fe.jsx)(pt,{asset:e,usdPrice:p,markAssetAsReviewed:n,top:0===t&&0===x.length,isMobile:d},e.id)}))]}),Object(fe.jsx)(Fe.b,{children:f.slice(0).reverse().map((function(e){return Object(fe.jsx)(bt,{asset:e,usdPrice:p,removeAsset:l,showRemove:!0,isMobile:d},e.id)}))})]})},Ot=n(431),mt=Object(i.default)(pe.c).withConfig({componentId:"sc-bq6y8h-0"})(["color:",";cursor:pointer;font-weight:600;font-size:14px;line-height:16px;:active{text-decoration:none;}"],(function(e){return e.theme.textSecondary})),ht=i.default.button.withConfig({componentId:"sc-bq6y8h-1"})(["align-items:center;background-color:transparent;border-radius:8px;border:none;color:",";cursor:pointer;display:flex;flex-direction:row;justify-content:flex-end;margin-left:auto;padding:2px;opacity:1;",""],(function(e){return e.theme.textPrimary}),Ot.a),vt=i.default.div.withConfig({componentId:"sc-bq6y8h-2"})(["align-items:center;background-color:",";border-radius:100px;font-weight:bold;color:",";display:flex;font-size:10px;justify-content:center;min-width:",";min-height:",";padding:4px 6px;"],(function(e){return e.theme.accentAction}),(function(e){return e.theme.accentTextLightPrimary}),(function(e){return e.sizing}),(function(e){return e.sizing})),It=i.default.div.withConfig({componentId:"sc-bq6y8h-3"})(["align-items:center;display:flex;flex-direction:row;gap:8px;justify-content:flex-start;margin:16px 28px;text-align:center;"]),wt=function(e){var t=e.numberOfAssets,n=e.closeBag,r=e.resetFlow,c=e.isProfilePage,i=Object(_.useMemo)((function(){return function(e){var t=e.toString().length;return"".concat(14+6*t,"px")}(t)}),[t]);return Object(fe.jsxs)(It,{children:[Object(fe.jsx)(pe.x.HeadlineSmall,{children:c?Object(fe.jsx)(o.b,{id:"Sell"}):Object(fe.jsx)(o.b,{id:"Bag"})}),t>0&&Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(vt,{sizing:i,children:t}),Object(fe.jsx)(mt,{onClick:r,children:Object(fe.jsx)(o.b,{id:"Clear all"})})]}),Object(fe.jsx)(ht,{onClick:n,children:Object(fe.jsx)(Ke.i,{"data-testid":"nft-bag-close-icon"})})]})},yt=n(93),At=Object(i.default)(Fe.b).withConfig({componentId:"sc-xhr1rt-0"})(["gap:12px;margin-top:68px;"]),kt=function(){var e=Object(u.c)();return Object(fe.jsxs)(At,{children:[Object(fe.jsx)(Fe.a,{children:e?Object(fe.jsx)(Ke.H,{color:yt.c.colors.textTertiary}):Object(fe.jsx)(Ke.j,{color:yt.c.colors.textTertiary,height:"96px",width:"96px",strokeWidth:"1px"})}),e?Object(fe.jsx)(Fe.a,{"data-testid":"nft-no-nfts-selected",className:Je.h,children:"No NFTs selected"}):Object(fe.jsxs)(Fe.b,{gap:"16",children:[Object(fe.jsx)(Fe.a,{"data-testid":"nft-empty-bag",className:Je.h,style:{lineHeight:"24px"},children:"Your bag is empty"}),Object(fe.jsx)(Fe.a,{fontSize:"12",fontWeight:"normal",color:"textSecondary",style:{lineHeight:"16px"},children:"Selected NFTs will appear here"})]})]})},Tt=function(e){var t=e.asset,n=Object(Me.m)((function(e){return e.removeSellAsset})),c=Object(Me.i)(),i=Object(_.useState)(!1),o=Object(r.a)(i,2),a=o[0],s=o[1],u=function(){return s(!a)},l=function(e){e.preventDefault(),e.stopPropagation(),n(t)};return Object(fe.jsxs)(Fe.c,{className:tt,onMouseEnter:u,onMouseLeave:u,children:[Object(fe.jsxs)(Le.b,{position:"relative",display:"flex",children:[c&&Object(fe.jsx)(lt,{onClick:l}),Object(fe.jsx)("img",{src:t.smallImageUrl,alt:t.name,className:nt})]}),Object(fe.jsxs)(Fe.b,{overflow:"hidden",width:"full",color:"textPrimary",children:[Object(fe.jsx)(Fe.c,{overflow:"hidden",width:"full",justifyContent:"space-between",whiteSpace:"nowrap",gap:"16",children:Object(fe.jsx)(Le.b,{className:ct,children:t.name||"#".concat(t.tokenId)})}),Object(fe.jsxs)(Fe.c,{overflow:"hidden",whiteSpace:"nowrap",gap:"2",children:[Object(fe.jsx)(Le.b,{className:it,children:t.asset_contract.name}),t.collectionIsVerified&&Object(fe.jsx)(Ke.ub,{className:ot})]})]}),a&&!c&&Object(fe.jsx)(at,{onClick:l,emphasis:Ve.e.medium,size:Ve.n.medium,children:"Remove"})]})},Nt=function(){var e=Object(Me.m)((function(e){return e.sellAssets}));return Object(fe.jsx)(Fe.b,{children:e.length?e.map((function(e,t){return Object(fe.jsx)(Tt,{asset:e},t)})):null})},Et=320,Ct=360,St=i.default.div.withConfig({componentId:"sc-1cpp7nx-0"})(["position:fixed;display:flex;flex-direction:column;top:88px;right:20px;width:","px;height:calc(100vh - 108px);background:",";border:1px solid ",";border-radius:16px;box-shadow:",";z-index:",";@media only screen and (max-width:","){right:0px;top:0px;width:100%;height:100%;border-radius:0px;border:none;}@media only screen and (min-width:","){width:","px;}"],Et,(function(e){return e.theme.backgroundSurface}),(function(e){return e.theme.backgroundOutline}),(function(e){return e.theme.shallowShadow}),(function(e){var t=e.raiseZIndex,n=e.isProfilePage;return t?n?Ge.a.modalOverTooltip:Ge.a.modalBackdrop-1:3}),(function(e){var t=e.theme;return"".concat(t.breakpoint.sm,"px")}),(function(e){var t=e.theme;return"".concat(t.breakpoint.xxxl,"px")}),Ct),_t=i.default.div.withConfig({componentId:"sc-1cpp7nx-1"})(["position:fixed;background:rgba(0,0,0,0.7);top:0px;width:100%;height:100%;"]),Pt=i.default.div.withConfig({componentId:"sc-1cpp7nx-2"})(["background:",";color:",";margin:32px 28px 16px;padding:10px 0px;border-radius:12px;text-align:center;font-size:16px;font-weight:600;line-height:20px;cursor:pointer;transition:",";:hover{opacity:",";}"],(function(e){return e.theme.accentAction}),(function(e){return e.theme.accentTextLightPrimary}),(function(e){return e.theme.transition.duration.medium}),(function(e){return e.theme.opacity.hover})),zt=function(e){var t=e.top,n=e.show;return Object(fe.jsx)(Le.b,{marginX:"24",borderWidth:"1px",borderStyle:"solid",borderColor:"transparent",borderTopColor:t?"transparent":"backgroundOutline",borderBottomColor:t?"backgroundOutline":"transparent",opacity:n?"1":"0",transition:"250"})};t.default=function(){var e=Object(Me.m)((function(e){return{resetSellAssets:e.reset,sellAssets:e.sellAssets}}),q.shallow),t=e.resetSellAssets,n=e.sellAssets,i=Object(Me.l)((function(e){return{setProfilePageState:e.setProfilePageState}})).setProfilePageState,l=Object(Me.e)((function(e){return Object(c.a)(Object(c.a)({},e),{},{bagIsLocked:e.isLocked,uncheckedItemsInBag:e.itemsInBag})}),q.shallow),d=l.bagStatus,b=l.bagIsLocked,p=l.reset,j=l.bagExpanded,f=l.toggleBag,g=l.setBagExpanded,x=Object(Me.e)((function(e){return{uncheckedItemsInBag:e.itemsInBag}})).uncheckedItemsInBag,O=Object(u.c)(),m=Object(u.a)(),h=Object(u.b)(),v=Object(Me.i)(),I=Object(_.useMemo)((function(){return Object(D.F)(x)}),[x]),w=Object(_.useState)(!1),y=Object(r.a)(w,2),A=y[0],k=y[1],T=Object(_.useState)(!1),N=Object(r.a)(T,2),E=N[0],C=N[1],S=Object(_.useState)(0),P=Object(r.a)(S,2),z=P[0],B=P[1],R=Object(_.useCallback)((function(){g({bagExpanded:!1,manualClose:!0})}),[g]);Object(_.useEffect)((function(){b&&!A&&k(!0)}),[b,A]);var F=I.length>0,U=I.length>0,M=n.length>0,G=Boolean(!O&&!U&&d===L.d.ADDING_TO_BAG||O&&!M),H=Object(_.useMemo)((function(){return Object(c.a)({},Object(D.k)(I.map((function(e){return e.asset}))))}),[I]);return j&&h?Object(fe.jsxs)(De.a,{children:[Object(fe.jsxs)(St,{"data-testid":"nft-bag",raiseZIndex:v||A,isProfilePage:O,children:[Object(fe.jsx)(wt,{numberOfAssets:O?n.length:I.length,closeBag:R,resetFlow:O?t:p,isProfilePage:O}),G&&Object(fe.jsx)(kt,{}),Object(fe.jsx)(zt,{top:!0,show:E&&z>0}),Object(fe.jsx)(Fe.b,{ref:function(e){if(null!==e){var t=e.scrollHeight>e.clientHeight;t!==E&&C(t)}},className:"_1jcz50r1 rgw6ez2r8 rgw6ez2xn rgw6ez29c rgw6ez8bl",onScroll:function(e){var t=e.currentTarget.scrollTop,n=e.currentTarget.clientHeight,r=e.currentTarget.scrollHeight;B(t?(t+n)/r*100:0)},gap:"12",children:O?Object(fe.jsx)(Nt,{}):Object(fe.jsx)(xt,{})}),F&&!O&&Object(fe.jsx)(Re,{setModalIsOpen:k,eventProperties:H}),M&&O&&Object(fe.jsx)(Pt,{onClick:function(){f(),i(L.h.LISTING),Object(a.sendAnalyticsEvent)(s.NFTEventName.NFT_PROFILE_PAGE_START_SELL,{list_quantity:n.length,collection_addresses:n.map((function(e){return e.asset_contract.address})),token_ids:n.map((function(e){return e.tokenId}))})},children:Object(fe.jsx)(o.b,{id:"Continue"})})]}),m?Object(fe.jsx)(_t,{onClick:f}):A&&Object(fe.jsx)(Ue.a,{onClick:function(){return b?void 0:k(!1)}})]}):null}},1910:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return b}));var r=n(65),c=n(141),i=n(73),o=n(252),a=n(213),s=n(45),u=n(1),l=n(582);function d(){var e=Object(l.a)((function(e){return e.itemsInBag}));return Object(u.useMemo)((function(){return e.reduce((function(e,t){return t.status!==s.c.UNAVAILABLE?e.add(r.a.from(t.asset.updatedPriceInfo?t.asset.updatedPriceInfo.ETHPrice:t.asset.priceInfo.ETHPrice)):e}),r.a.from(0))}),[e])}function b(){var e=d(),t=Object(i.b)("ETH"),n=Object(u.useMemo)((function(){return Object(a.a)(Object(c.formatEther)(e.toString()),null!==t&&void 0!==t?t:void 0)}),[t,e]),r=Object(o.c)(n);return Object(u.useMemo)((function(){return null===r||void 0===r?void 0:r.toExact()}),[r])}},2012:function(e,t,n){},2013:function(e,t,n){}}]);
//# sourceMappingURL=1.c64a398a.chunk.js.map